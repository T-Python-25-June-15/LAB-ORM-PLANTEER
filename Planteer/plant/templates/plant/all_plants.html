{% extends 'main/base.html' %}

{% block content %}
<section class="all-plants-section container"> 
  <div class="d-flex justify-content-between align-items-center my-4">
    <h2>All Plants</h2>

    <form method="get" class="d-flex justify-content-end align-items-center gap-3 m-0">
      <label for="category" class="mb-0 me-2">Category:</label>
      <select name="category" id="category" class="form-select form-select-sm me-3" style="width: auto;">
        <option value="all">All</option>
        <option value="Flowering plants">Flowering plants</option>
        <option value="Ferns and Mosses">Ferns and Mosses</option>
        <option value="Algae">Algae</option>
        <option value="Fungi">Fungi</option>
      </select>

      <label for="is_edible" class="mb-0 me-2">Edible:</label>
      <select name="is_edible" id="is_edible" class="form-select form-select-sm me-3" style="width: auto;">
        <option value="">All</option>
        <option value="true">Edible</option>
        <option value="false">Not Edible</option>
      </select>

      <button type="submit" class="btn btn-dark btn-sm">Filter</button>
    </form>
  </div>

  <div class="plants-grid">
    {% for plant in plants %}
      <div class="plant-card">
        <img src="{{ plant.image.url }}" alt="{{ plant.name }}">
        <h3><a href="{% url 'plant:plant_detail_view' plant.id %}">{{ plant.name }}</a></h3>
        <p>{{ plant.about|truncatechars:50 }}</p>
        <p><strong>{{ plant.category }}</strong></p>
      </div>
    {% empty %}
      <p>No plants available.</p>
    {% endfor %}
  </div>

</section>
{% endblock %}
