{% extends 'main/base.html' %}
{% load static %}

{% block title %}Update Plant{% endblock %}

{% block content %}
<div class="container py-5">
    <h2 class="mb-4 text-center">Update Plant {{plant.name}}</h2>

    <form action="{% url 'plants:update_plant_view' plant.id %}" method="POST" enctype="multipart/form-data" class="d-flex flex-column gap-3 w-75 mx-auto" >
        {% csrf_token %}

        <div>
            <label for="name" class="form-label">Plant Name</label>
            <input type="text" name="name" id="name" placeholder="Plant Name" class="form-control" value="{{plant.name}}" required />
        </div>

        <div>
            <label for="about" class="form-label">About</label>
            <textarea name="about" id="about" placeholder="About the plant" rows="3" class="form-control" required>{{plant.about}}</textarea>
        </div>

        <div>
            <label for="used_for" class="form-label">Used For</label>
            <textarea name="used_for" id="used_for" placeholder="Used For" rows="3" class="form-control" required>{{plant.used_for}}</textarea>
        </div>


        <div>
        <label for="category" class="form-label">Category</label>
        <select name="category" id="category" class="form-select" required>
            {% for value, label in CategoryChoices %}
            <option value="{{ value }}" {% if plant.category == value %}selected{% endif %}>
                {{ label }}
            </option>
            {% endfor %}
        </select>
        </div>


        <div class="form-check">
            <input type="checkbox" name="is_edible" class="form-check-input" id="is_edible" {% if plant.is_edible %} checked {% endif %} />
            <label class="form-check-label" for="is_edible">Is Edible</label>
        </div>

        <div class="row align-items-center">
            <label for="image" class="form-label">Image</label>
            <div class="col-2">
                <img src="{{ plant.image.url }}" class="w-100 rounded"  alt="Blog Image">
            </div>
            <div class="col ms-auto">
                <input type="file" name="image" id="image" class="form-control" accept="image/*" />
            </div>
        </div>
        

        <input type="submit" value="update Plant" class="btn btn-dark" />
    </form>
</div>
{% endblock %}